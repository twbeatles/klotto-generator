# 🎰 Lotto 6/45 Generator Pro v2.5

**Lotto Generator Pro**는 파이썬과 PyQt6로 제작된 현대적이고 강력한 로또 번호 생성기입니다. 동행복권 공식 사이트의 내부 정보를 활용하여 실시간 당첨 정보를 제공하며, **1회차부터 현재까지의 전체 당첨 통계**를 분석하여 최적의 행운 번호를 제안합니다.

## ✨ 주요 기능

### 1. 강력한 번호 생성
- **고정수/제외수**: 반드시 포함하거나 제외할 숫자를 지정할 수 있습니다.
- **범위 입력 지원**: `1-10, 20, 30-35` 형식으로 편리하게 입력 가능합니다.
- **연속수 제한**: 연속된 숫자가 나오지 않도록 제한하여 확률을 높입니다.
- **대량 생성**: 한 번에 최대 20게임까지 생성 가능합니다.

### 2. 📊 역대 당첨 통계 (NEW in v2.5)
- **전체 역사 분석**: 1회차부터 현재까지 모든 당첨 번호 분석
- **자동 동기화**: 앱 실행 시 최신 당첨 정보 자동 업데이트
- **핫/콜드 넘버**: 가장 많이/적게 나온 번호 TOP 10 표시
- **번호대별 분포**: 구간별 출현 빈도 시각화

### 3. 스마트 분석 시스템
- **자동 분석**: 생성된 번호의 합계, 홀짝 비율을 실시간으로 계산
- **최적 조합 추천**: 통계적으로 당첨 확률이 높은 구간(합계 100~175) 안내
- **당첨 확인**: 생성된 번호가 역대 당첨 번호와 일치하는지 비교

### 4. 📜 생성 히스토리
- **자동 저장**: 생성한 모든 번호 조합을 자동으로 기록
- **최대 500개**: 최근 500개의 조합을 날짜와 함께 보관
- **중복 감지**: 이전에 생성한 조합과 중복되면 자동 감지

### 5. 사용자 친화적 UI/UX
- **다크 모드**: 눈이 편안한 다크 모드와 깔끔한 라이트 모드 지원
- **3D 로또 공**: 입체감 있는 현대적인 로또 공 디자인
- **즐겨찾기**: 마음에 드는 번호 조합을 별도로 저장하고 관리
- **QR 코드**: 번호 조합을 QR 코드로 생성 및 스캔

## 🛠️ 설치 및 실행

### 요구 사항
- Python 3.8 이상
- PyQt6 라이브러리

### 설치
```bash
pip install PyQt6 requests qrcode pillow
```

### 실행
```bash
python run_klotto.py
```

### 빌드 (실행 파일 생성)
```bash
pip install pyinstaller
pyinstaller klottogenerator.spec
```
빌드된 실행 파일은 `dist/LottoGeneratorPro.exe` (단일 파일)로 생성됩니다.

## 📁 프로젝트 구조

```
lotto/
├── klotto/                  # 메인 패키지
│   ├── config.py           # 설정 및 상수
│   ├── utils.py            # 유틸리티 및 테마 관리
│   ├── core/               # 핵심 로직
│   │   ├── analysis.py     # 번호 분석
│   │   ├── generator.py    # 번호 생성
│   │   ├── stats.py        # 당첨 통계 (SQLite DB 연동)
│   │   └── sync_service.py # 백그라운드 동기화 서비스
│   ├── data/               # 데이터 관리
│   │   ├── favorites.py    # 즐겨찾기
│   │   └── history.py      # 히스토리
│   ├── net/                # 네트워크
│   │   └── client.py       # API 클라이언트
│   └── ui/                 # UI 컴포넌트
│       ├── dialogs.py      # 다이얼로그
│       ├── main_window.py  # 메인 윈도우
│       └── widgets.py      # 위젯
├── data/                    # 로또 역대 당첨 DB
│   └── lotto_history.db    # SQLite DB (1회~현재)
├── scripts/                 # 유틸리티 스크립트
│   ├── scrape_lotto_history.py  # DB 스크래핑
│   └── export_to_excel.py       # 엑셀 내보내기
├── run_klotto.py            # 실행 진입점
├── klottogenerator.spec     # PyInstaller 설정
└── README.md
```

## ⌨️ 단축키

| 단축키 | 기능 | 설명 |
|---|---|---|
| **Enter** | 번호 생성 | 설정된 옵션으로 새 번호를 생성합니다. |

## 🎛️ 하단 메뉴

| 버튼 | 기능 |
|---|---|
| 📊 통계 | 내 생성 번호 통계 |
| 📜 히스토리 | 생성 히스토리 |
| ⭐ 즐겨찾기 | 즐겨찾기 관리 |
| 📈 당첨통계 | **역대 전체 당첨 통계** |
| 🎯 당첨확인 | 내 번호 당첨 확인 |
| 💾 데이터관리 | 데이터 내보내기/가져오기 |

## 📁 데이터 저장 경로

```
~/.lotto_generator/
├── app.log              # 애플리케이션 로그
├── favorites.json       # 즐겨찾기 데이터
├── history.json         # 생성 히스토리
├── winning_stats.json   # 당첨 통계 캐시
└── lotto_history.db     # 역대 당첨 DB (자동 복사)
```

- Windows: `C:\Users\Username\.lotto_generator\`
- macOS/Linux: `~/.lotto_generator/`

## 📝 변경 이력

### v2.5 (2026-02-04)
- 🎉 **역대 전체 당첨 통계 기능 추가**
  - 1회차~현재까지 모든 당첨 번호 SQLite DB 저장
  - 앱 실행 시 최신 회차 자동 동기화
  - 핫/콜드 넘버, 번호대별 분포 분석
- 📊 **엑셀 내보내기 기능** (`scripts/export_to_excel.py`)
- 🔧 **PyInstaller Onefile 모드** - 단일 EXE 파일 생성
- 📦 역대 당첨 DB를 패키지에 포함

### v2.4 (2026-01-26)
- 🔧 동행복권 API 대응 업데이트
- 📝 프로젝트 문서 최신화

### v2.3 (2026-01-11)
- 🔧 동행복권 API 변경 대응
- 📦 코드베이스 모듈화 리팩토링

### v2.2 (2026-01-11)
- ⚡ 네트워크 엔진 교체
- 🛡️ 입력값 검증 시스템 강화

### v2.1 (2025-12-30)
- ✨ 번호 통계/히스토리 기능 추가
- 🎨 3D 로또 공 디자인

---

